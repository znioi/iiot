
# Experiment No. 7  
## Title  
Custom Functions in Arduino using RGB LED

---

## Aim  
To create and use custom functions in Arduino for controlling RGB LED colors using PWM signals.

---

## Theory  
RGB LED consists of **three LED chips** ‚Äî Red, Green, and Blue ‚Äî packed together.  
By adjusting the intensity of each LED using **PWM (0‚Äì255)** values, any color can be formed (Additive Color Mixing).  

Types of RGB LEDs:  
| Type | Connection | Output Control |
|------|------------|----------------|
| Common Cathode | All cathodes tied to GND | PWM to anodes |
| Common Anode | All anodes tied to +5V | PWM to cathodes (logic LOW = brighter) |

Why Custom Functions?  
- Reduces repetitive code  
- Increases modularity  
- Improves readability and reusability  
- Example: `setColor(R,G,B)` to instantly apply any color

---

## Components Required  
| Component | Quantity |
|----------|----------|
| RGB LED (Common Cathode recommended) | 1 |
| 220Œ© Resistors | 3 |
| Arduino UNO | 1 |
| Jumper Wires | Few |
| Breadboard | 1 |

---

## Circuit Description  
- Common cathode pin ‚Üí **GND**  
- Red pin ‚Üí Arduino **D7** via 220Œ© resistor  
- Green pin ‚Üí Arduino **D6** via 220Œ© resistor  
- Blue pin ‚Üí Arduino **D5** via 220Œ© resistor  
- Only connect RGB pins to **PWM capable pins (~)**

---

## Arduino Code (Custom Function for Color Control)
```cpp
int redPin = 7;
int greenPin = 6;
int bluePin = 5;

void setup() {
  pinMode(redPin, OUTPUT);
  pinMode(greenPin, OUTPUT);
  pinMode(bluePin, OUTPUT);
}

void loop() {
  setColor(255, 0, 0);   // Red
  delay(1000);
  setColor(0, 255, 0);   // Green
  delay(1000);
  setColor(0, 0, 255);   // Blue
  delay(1000);
  setColor(255, 255, 255); // White (All LEDs ON)
  delay(1000);
  setColor(170, 0, 255); // Purple mix
  delay(1000);
}

// Custom function to choose any color
void setColor(int redValue, int greenValue, int blueValue) {
  analogWrite(redPin, redValue);
  analogWrite(greenPin, greenValue);
  analogWrite(bluePin, blueValue);
}
````

---

## Result

The RGB LED successfully displayed multiple colors by calling a custom function that controls individual Red, Green, and Blue brightness levels using PWM.

---

## Viva Questions & Answers (30 Detailed)

1Ô∏è‚É£ **What is the purpose of a custom function?**

* To avoid repeating code again and again.
* Helps organize program into smaller units.
* Improves readability and debugging.

2Ô∏è‚É£ **Why RGB LED instead of normal LED?**

* A single RGB LED can create various colors.
* Saves space compared to separate LEDs.
* Best for multicolor visual indicators.

3Ô∏è‚É£ **What does PWM do in this experiment?**

* Simulates analog brightness using fast digital switching.
* Higher duty cycle ‚Üí LED glows brighter.
* Used to mix colors smoothly.

4Ô∏è‚É£ **What are the pin requirements for RGB control?**

* Must use **PWM pins** (~ marked).
* Separate pin for each color channel.
* Common terminal based on LED type.

5Ô∏è‚É£ **Difference between Common Cathode and Anode RGB LEDs?**

* Common Cathode ‚Üí GND common + PWM at anode.
* Common Anode ‚Üí +5V common + PWM LOW to brighten.
* Code inverts logic for common anode.

6Ô∏è‚É£ **Why use 220Œ© resistors?**

* Prevent excessive current to LED.
* Avoids burning MOSFET/transistor in MCU pin.
* Ensures safe brightness level.

7Ô∏è‚É£ **How many pins does RGB LED have? Why?**

* 4 pins: R, G, B + Common pin.
* Each LED chip needs separate control pin.
* Common terminal saves wiring.

8Ô∏è‚É£ **Explain color mixing in RGB.**

* Additive mixing of primary colors of light.
* Red + Green = Yellow, etc.
* All full = White Color.

9Ô∏è‚É£ **What is analogWrite() value range?**

* 0 ‚Üí LED OFF
* 255 ‚Üí Full brightness
* Intermediate values give varying intensity.

10Ô∏è‚É£ **Why Serial Monitor not necessary here?**

* Visual output shown using LED colors.
* Communication not required.
* Used only during debugging if needed.

11Ô∏è‚É£ **What is duty cycle?**

* Percentage time signal stays HIGH per cycle.
* Defines perceived brightness.
* Core principle behind PWM.

12Ô∏è‚É£ **What happens if resistor ignored?**

* High current damages LED.
* MCU pin overload risk.
* Always use current limit resistor.

13Ô∏è‚É£ **Why add delay() after each color?**

* To make color visible long enough.
* Delay controls color switching speed.
* Prevents instant flickering.

14Ô∏è‚É£ **How many PWM pins in Arduino UNO?**

* **6 pins**: 3, 5, 6, 9, 10, 11
* Marked with (~).
* Only they support analogWrite().

15Ô∏è‚É£ **Can analogWrite be used on A0‚ÄìA5?**

* No. They are analog input only.
* Some can be used as digital but not PWM.
* Must use PWM digital pins for fading.

16Ô∏è‚É£ **What is modular programming?**

* Dividing program into functions.
* Easier testing & modification.
* Industry standard method.

17Ô∏è‚É£ **What is return type of setColor()?**

* `void` : returns no value.
* Only performs action (LED color change).
* Used for direct hardware control.

18Ô∏è‚É£ **What happens if wrong pin defined?**

* No correct color output.
* Some LEDs may remain OFF.
* Required debugging.

19Ô∏è‚É£ **Can we use variable values in setColor()?**

* Yes, dynamic values adjust color in real-time.
* Example: response to sensor data.
* Useful for ambient lighting.

20Ô∏è‚É£ **Applications of RGB LED control?**

* Decorative lighting
* Status indicators
* IoT ambience monitoring systems

21Ô∏è‚É£ **What is an IDE?**

* Integrated Development Environment.
* Arduino IDE used here to write/upload code.
* Helps monitor serial outputs if needed.

22Ô∏è‚É£ **What happens if both R & G ON full?**

* Yellow color forms.
* Basic RGB mixing principle.
* LED brightness depends on power.

23Ô∏è‚É£ **Why LED needs correct orientation?**

* Common pin must match circuit polarity.
* Wrong connection ‚Üí LED won‚Äôt glow.
* Avoid reversing common line.

24Ô∏è‚É£ **Can RGB LED create black?**

* Yes: set all PWM values to 0.
* Black = Darkness (no output).
* LED fully OFF.

25Ô∏è‚É£ **Why avoid too fast switching?**

* Human eye cannot detect color transitions.
* Appears as flickering.
* Use proper delays.

26Ô∏è‚É£ **What is custom function calling?**

* Executing function by writing its name.
* Here: setColor(R,G,B).
* Programs run efficiently.

27Ô∏è‚É£ **Why void setup is used?**

* For initial configuration of pins.
* Executes once on restart.
* Essential in all Arduino programs.

28Ô∏è‚É£ **What is the use of variable parameters in functions?**

* Make same function work for many values.
* Increase flexibility.
* Reduces code duplication.

29Ô∏è‚É£ **Why do LEDs appear different brightness?**

* Human eye is more sensitive to green.
* LED internal structure differs per color.
* Calibration needed for uniform white light.

30Ô∏è‚É£ **Why is this experiment important in IoT?**

* Provides understanding of programmable lights.
* Used in home automation and UI feedback.
* Core skill in smart lighting systems.

---

## Conclusion

Custom functions allow efficient and cleaner control of RGB LED colors using PWM outputs. Mixing different PWM values enables generating multiple colors essential for IoT visual indications.

---

## Note

üìå Attach hardware photos + output video/screenshot below for lab submission.
