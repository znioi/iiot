
# Experiment No. 8  
## Title  
Distance Measurement using Ultrasonic Sensor (HC-SR04)

---

## Aim  
To interface and program an ultrasonic sensor with Arduino to measure and display the distance to an object using sound wave reflection.

---

## Theory  
Ultrasonic sensors use **high-frequency sound waves** (40kHz approx.) to measure distance based on **Time of Flight (ToF)** of sound waves.  
The sensor sends an ultrasonic pulse using **TRIG pin** and listens for the reflected wave at **ECHO pin**.  
Distance is calculated using:

\[
\text{Distance} = \frac{\text{Time} \times \text{Speed of Sound}}{2}
\]

Here, Time is round-trip, so divided by 2.

HC-SR04 Sensor Working Key Points:  
| Pin | Name | Function |
|-----|------|----------|
| 1 | GND | Ground |
| 2 | TRIG | Transmit pulse (Output) |
| 3 | ECHO | Receive reflected pulse (Input) |
| 4 | VCC | +5V power supply |

Speed of Sound ‚âà **343 m/s** ‚Üí 29.1 microseconds per cm  
So,  
\[
\text{Distance(cm)} = \frac{\text{Duration(us)}}{58}
\]
(or Duration/2 / 29.1 as used in code)

Applications: Parking systems, automatic doors, robotics obstacle detection.

---

## Components Required  
| Component | Quantity |
|----------|----------|
| HC-SR04 Ultrasonic Sensor | 1 |
| Arduino UNO | 1 |
| LED (optional alarm) | 1 |
| Breadboard & Jumper wires | Few |

---

## Circuit Description  
- TRIG ‚Üí Arduino Digital Pin **11**  
- ECHO ‚Üí Arduino Digital Pin **12**  
- VCC ‚Üí **5V**  
- GND ‚Üí **GND**  
- LED (optional) ‚Üí Pin 13 with resistor

---

## Arduino Code
```cpp
#define trigPin 11
#define echoPin 12
#define ledPin 13

void setup() {
  Serial.begin(9600);
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);
  pinMode(ledPin, OUTPUT);
}

void loop() {
  long duration, distance;

  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);

  duration = pulseIn(echoPin, HIGH);
  distance = (duration / 2) / 29.1;

  if (distance < 10 && distance > 0) {
    digitalWrite(ledPin, HIGH);
  } else {
    digitalWrite(ledPin, LOW);
  }

  Serial.print("Distance: ");
  Serial.print(distance);
  Serial.println(" cm");

  delay(500);
}
````

---

## Output

* The **Serial Monitor** displays live distance values in centimeters.
* LED turns ON when object is **closer than 10 cm**.

---

## Result

Ultrasonic sensor successfully detected distance of nearby objects and controlled LED based on threshold. Reflection-based distance measurement was verified.

---

## Viva Questions & Answers (30 Detailed for Exam)

1Ô∏è‚É£ **What is the principle of Ultrasonic Sensor?**

* Based on echo/reflection of high-frequency sound waves.
* Time is measured between sending and receiving sound.
* Used for non-contact distance measurement.

2Ô∏è‚É£ **Why divide duration by 2?**

* Sound travels to object and returns back.
* Only one-way distance is needed.
* So time must be halved.

3Ô∏è‚É£ **What is pulseIn()?**

* Reads time duration of HIGH pulse in microseconds.
* Measures echo time.
* Essential for calculating distance.

4Ô∏è‚É£ **Frequency of ultrasonic waves used?**

* 40 kHz ultrasonic pulses.
* Above human hearing range.
* Safe and noise-immune.

5Ô∏è‚É£ **Why sensors fail on soft surfaces?**

* Soft materials absorb sound waves.
* Very weak/no reflection returns.
* Hard surfaces reflect better.

6Ô∏è‚É£ **Why TRIG pulse must be 10¬µs?**

* Sensor needs a minimum pulse width.
* To generate 8-cycle ultrasonic sound burst.
* Ensures proper triggering.

7Ô∏è‚É£ **What happens if Echo pin not connected properly?**

* Pulse will read as 0 or random values.
* No proper distance measured.
* Must ensure correct pin direction setting.

8Ô∏è‚É£ **Speed of sound significance?**

* Used to convert time into distance.
* Change in temperature can affect speed slightly.
* Basic constant ‚âà 343 m/s.

9Ô∏è‚É£ **What is the maximum range of HC-SR04?**

* 2 cm to 400 cm.
* Ideal distance ~2‚Äì300 cm for accuracy.
* Beyond limit gives false readings.

10Ô∏è‚É£ **Minimum distance measurable?**

* Around 2‚Äì3 cm.
* Too close ‚Üí signal overlap.
* Echo arrives instantly and confuses reading.

11Ô∏è‚É£ **Why use Serial Monitor?**

* Displays real-time distance values.
* Helps debugging sensor placement and threshold.
* Monitor changes instantly.

12Ô∏è‚É£ **Purpose of LED in experiment?**

* Visual indicator for object proximity.
* LED ON = object within danger zone.
* Used for automation alerts.

13Ô∏è‚É£ **Define ToF (Time of Flight).**

* Time taken by signal to travel to target and back.
* Used in ultrasonic, LiDAR sensors.
* Directly proportional to distance.

14Ô∏è‚É£ **What is meant by non-contact sensing?**

* No physical touch required for measurement.
* Prevents wear & tear.
* Useful for robotics and hygiene-sensitive areas.

15Ô∏è‚É£ **Why use delayMicroseconds()?**

* To generate precise small time pulses.
* delay() is too large (ms).
* Ultrasonic timing is in microseconds.

16Ô∏è‚É£ **What if multiple sensors placed close?**

* Crosstalk occurs.
* Sensors detect incorrect echoes.
* Must time them separately.

17Ô∏è‚É£ **Why power supply must be stable?**

* Fluctuations affect pulse timing.
* Wrong distance reading appears.
* Use proper grounding.

18Ô∏è‚É£ **What if distance prints negative?**

* Noise or invalid reading from echo.
* Object too close or too far.
* Handle errors in software.

19Ô∏è‚É£ **Applications of ultrasonic sensor**

* Robotics obstacle detection
* Parking assistance
* Industrial automation
* Liquid level detection

20Ô∏è‚É£ **What is dead zone in ultrasonic sensor?**

* Minimum measurable region near sensor.
* Signal doesn‚Äôt separate from transmitted pulse.
* ~2 cm for HC-SR04.

21Ô∏è‚É£ **What does HIGH and LOW mean in trig timing?**

* HIGH triggers pulse output.
* LOW resets signal.
* Condition must be controlled precisely.

22Ô∏è‚É£ **Why use 29.1 in distance formula?**

* Speed of sound in air converted to cm/¬µs.
* Practical calibration constant.
* Slightly varies with environment.

23Ô∏è‚É£ **What does long type store?**

* Larger integer values (32-bit).
* Needed for large pulse durations.
* Prevents overflow and data loss.

24Ô∏è‚É£ **Why ultrasonic instead of IR?**

* Not affected by light or color.
* Better accuracy for distance.
* IR unreliable on dark/transparent surfaces.

25Ô∏è‚É£ **Why echo signal measured in microseconds?**

* Sound travels very fast.
* Small time differences matter.
* More precision achieved.

26Ô∏è‚É£ **Power supply voltage for HC-SR04?**

* 5V required.
* 3.3V not recommended.
* Ensures maximum sensing range.

27Ô∏è‚É£ **What environmental factors affect readings?**

* Temperature, humidity, air pressure.
* Sound speed may change.
* Software correction used in advanced systems.

28Ô∏è‚É£ **Difference between analog & digital outputs?**

* Ultrasonic gives exact distance digitally.
* Not just true/false range.
* More useful in automation.

29Ô∏è‚É£ **Purpose of condition: if(distance < 10)**

* Safety threshold zone.
* Switch ON alarm when too close.
* Practical use in collision prevention.

30Ô∏è‚É£ **Why this experiment important for IoT?**

* Enables autonomous obstacle sensing.
* Used widely in smart vehicles and robots.
* Core skill for real-world smart systems.

---

## Conclusion

Ultrasonic sensor successfully measured obstacle distance and controlled an LED threshold alert. This experiment demonstrates non-contact object detection essential for automation and robotics.

---

## Note

üìå Attach photos/video of working hardware + Serial output for lab submission.

